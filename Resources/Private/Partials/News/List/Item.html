{namespace n=GeorgRinger\News\ViewHelpers}
{namespace dc=CP\Dinnerclub\ViewHelpers}
{namespace dcx=CP\DinnerclubExt\ViewHelpers}

<n:excludeDisplayedNews newsItem="{newsItem}"/>

  <f:switch expression="{settings.templateLayout}">
    <f:case default="1">
            <div class="event-box shadow">
            <div class="row">
              <f:if condition="{newsItem.falMedia}">
              <f:then>
              <div class="col-sm-6">
              <div class="event-img-box">
                <div class="event-img-overlay">
                  <p class="img-overlay-text">
                    <f:translate key="day.{newsItem.datetime -> f:format.date(format: 'w')}" /> {newsItem.datetime -> f:format.date(format: 'j.')} <f:translate key="month.{newsItem.datetime -> f:format.date(format: 'm')}" /> {newsItem.datetime -> f:format.date(format: 'H:i')}</p>
                  </p>
                </div>
<n:link newsItem="{newsItem}">
                <f:if condition="{newsItem.falMedia.0.originalResource}">
                <f:image image="{newsItem.falMedia.0.originalResource}" width="500"/>
                </f:if>
</n:link>
              </div>
              </div>
              <div class="col-sm-6">
              <div class="event-text-box">
                <h3>{newsItem.title}</h3>
                <p class="lead">{newsItem.teaser -> f:format.nl2br()}</p>
                <f:if condition="{newsItem.registrationPossible}">
                <p>
                <n:link newsItem="{newsItem}" class="weiterlesen-button">Weiterlesen / Anmelden</n:link>
                </p>
                <p>{dc:countRegistrations(newsItem: newsItem)} Anmeldungen</p>
                <p><dc:deadlineMessage event="{newsItem}" /></p>
                </f:if>
              </div>
              </div>
              </f:then>

              <f:else>
              <div class="col-xs-12">
                    <f:translate key="day.{newsItem.datetime -> f:format.date(format: 'w')}" /> {newsItem.datetime -> f:format.date(format: 'j.')} <f:translate key="month.{newsItem.datetime -> f:format.date(format: 'm')}" /> {newsItem.datetime -> f:format.date(format: 'H:i')}</p>
              <div class="event-text-box">
                <h3>{newsItem.title}</h3>
                <p class="lead">{newsItem.teaser -> f:format.nl2br()}</p>
                <f:if condition="{newsItem.registrationPossible}">
                <p>
                <n:link newsItem="{newsItem}" class="weiterlesen-button">Weiterlesen / Anmelden</n:link>
                </p>
                <p>{dc:countRegistrations(newsItem: newsItem)} Anmeldungen</p>
                <p><dc:deadlineMessage event="{newsItem}" /></p>
                </f:if>
              </div>
              </div>
              </f:else>
              </f:if>
            </div>
            </div>
    </f:case>
  </f:switch>
